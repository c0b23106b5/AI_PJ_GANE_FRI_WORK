チーム7　デジタル版ゲームデザインメモ

⚫ タイトル（仮）
➢ 『廃墟からの脱出』

⚫ ゲーム概要
➢ 都市伝説好きの高校生が幽霊が出ると噂の廃墟に閉じ込められた。プレイヤーは校舎内を探索し、鍵を入手して裏口から脱出することを目指す。建物内では最大2体の幽霊が徘徊し、捕まれば即座にゲームオーバーとなる。

⚫ 目的
➢ 勝利条件：正しい鍵を手に入れた状態で裏口の部屋に到達し、脱出アクションを実行する。
➢ 敗北条件：幽霊と同じマスに入る、または幽霊が滞在する部屋へ侵入して捕まる。

⚫ ステージ構造
➢ 廃墟は9部屋で構成され、各部屋は6×6マスのグリッドとして実装する。
➢ 部屋間はドアで接続される。一部のドアは一方通行や施錠状態を許容し、鍵がないと通れない場合がある。
➢ グリッド内には通行不可の壁や一方通行タイルを配置して迷路状の移動を実現する。
➢ 各部屋にはピンクでマークされた「探索マス」を1〜2箇所用意し、調べるとアイテム抽選が行われる。

⚫ アイテム仕様
➢ アイテムはゲーム開始時にランダム配置され、毎回異なる組み合わせになる。
➢ アイテム種類
  1. 鍵：正解の鍵は1本のみ。その他の鍵はダミーで、裏口では使用できない。
  2. 幽霊停止アイテム：使用した部屋に限り、指定ターン数（例：3ターン）の間、幽霊の移動を停止させる。
  3. 加速アイテム：使用から5ターンの間、プレイヤーは1ターンに2マスまで移動可能。
➢ アイテムはターン開始時（移動前）に使用でき、複数アイテムを連続使用した場合は発動順に効果を処理する。

⚫ プレイヤー行動
➢ 基本移動は1ターンに1マス。加速アイテム効果中は最大2マス連続移動が可能。
➢ 探索マスでアクションを選択すると、その部屋に設定されたアイテムテーブルから抽選が行われ、取得またはその場に留める選択が可能。
➢ ドアを通る際は隣接マスに立っている必要があり、施錠ドアの場合は鍵所持チェックを行う。

⚫ 幽霊の出現と挙動
➢ 幽霊は最大2体。スタート部屋では出現判定を行わない。
➢ 1体目：プレイヤーの累計移動マス数が5の倍数に到達するたびに1/6の確率で出現。失敗した場合は次の5マス刻みで再判定。
➢ 2体目：プレイヤーがアクション（移動・探索・アイテム使用など）を行う度に、まだ出現していなければ1/6の確率で出現。
➢ 出現位置はプレイヤーから最も距離の離れているドアまたは部屋。初期化後2部屋分は安全領域として侵入不可にする。
➢ 幽霊は各ターンで移動距離をダイス判定し、1マス移動（確率2/3）または2マス移動（確率1/3）でプレイヤーに最短距離で接近する。
➢ 幽霊停止アイテムの効果中はその部屋内で幽霊の移動を無効化する。効果ターン終了後に追跡を再開する。

⚫ 進行フロー
➢ ターン開始：効果中のアイテムカウントや幽霊停止残りターンを更新。
➢ プレイヤー操作：移動、探索、アイテム使用などのコマンドを選択。
➢ 幽霊処理：必要に応じて出現判定を実施し、各幽霊の移動または停止を解決。
➢ 判定：玩家が脱出条件を満たしたか、幽霊に捕捉されたかを評価。終了条件を満たすとゲーム終了。

⚫ テクニカルノート
➢ グリッド座標、部屋接続、アイテムテーブルなどをデータ駆動で定義し、レイアウトの変更を容易にする。
➢ ランダム要素（アイテム配置、幽霊出現、移動距離）はシード値指定で再現性テストを可能にする。
